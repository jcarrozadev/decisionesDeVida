<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Charmander</title>
    <style>
        * {
            margin: 0;
            padding: 0;
        }
        table {
            border-collapse: collapse;
            margin: 2% auto;
        }
        table, th, td {
            border: 2px solid black;
        }
        th, td {
            width: 80px;
            height: 80px;
            text-align: center;
            position: relative;
        }
        .charmander {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }
    </style>
</head>
<body>
    <table>
        <tbody>
            <!-- Generate table rows and cells -->
            <script>
                for (let i = 0; i < 10; i++) {
                    document.write('<tr>');
                    for (let j = 0; j < 12; j++) {
                        document.write(`<td data-row="${i}" data-col="${j}" onclick="placeCharmander(this)"></td>`);
                    }
                    document.write('</tr>');
                }
            </script>
        </tbody>
    </table>

    <script>
        // Variable para rastrear la posición actual de Charmander
        let fila = 9;
        let columna = 6;

        // Inicializar Charmander en la primera celda (9,6)
        document.querySelector(`td[data-row='${fila}'][data-col='${columna}']`).innerHTML = '<img src="/img/charmander.png" class="charmander">';

        function placeCharmander(cell) {
            // Obtener la fila y columna de la celda clicada
            const row = parseInt(cell.getAttribute('data-row'));
            const col = parseInt(cell.getAttribute('data-col'));

            // Verificar si la celda clicada es colindante a la posición actual
            if (isAdjacent(row, col)) {
                // Mover a Charmander
                document.querySelectorAll("td").forEach(td => td.innerHTML = "");
                cell.innerHTML = '<img src="/img/charmander.png" class="charmander">';
                // Actualizar la posición actual
                fila = row;
                columna = col;
            }
        }

        function isAdjacent(row, col) {
            // Comprobar si la celda clicada está en una posición adyacente
            return (
                (row === fila && Math.abs(col - columna) === 1) ||  // Izquierda/Derecha
                (col === columna && Math.abs(row - fila) === 1)     // Arriba/Abajo
            );
        }
    </script>
</body>
</html>
